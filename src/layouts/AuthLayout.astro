---
import MainLayout from "@layouts/MainLayout.astro";
import InputField from "@components/InputField.astro";
import SignOptionBtn from "@components/SignOptionBtn.astro";

import backgroundIcon1 from "@assets/icons/backgroundIcon1.png";
import backgroundIcon2 from "@assets/icons/backgroundIcon2.png";
import arrowIcon from "@assets/icons/Arrow.svg";
import schoolLogo from "@assets/images/SchoolLogo.png";

const { action, title } = Astro.props;
---

<MainLayout>
    <!-- <div class="absolute top-0 left-0 font-black text-7xl text-dark-primary">
        Fultracker
    </div>
    <form
        class="absolute pt-24 pb-5 px-24 h-3/4 w-4/6 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-y-2 bg-dark-brown rounded-2xl"
        action=`/api/auth/${action}`
        method="post"
        autocomplete="off"
    >
        <p class="absolute -top-[10%] text-8xl font-black text-dark-primary">
            {title}
        </p>
        <div class="flex flex-col gap-y-7 w-full h-2/5">
            <slot name="input" />
        </div>
        <div class="flex justify-between items-center w-full h-1/4 mt-4">
            <a
                class="pl-8 text-almost-white cursor-pointer font-light hover:opacity-70"
                id="switch-title"
                href={action == "register" ? "/signin" : "/register"}
            >
                Don't have account? Create new!
            </a>
        </div>
        <button
            class="bg-dark-primary px-9 py-5 text-almost-white rounded-[34px] font-bold text-4xl text-center tracking-wide hover:bg-[#001254] active:bg-[#010e40]"
            id="sign-btn"
            type="submit"
            >Let me INN!!!
        </button>
        <slot name="otherSignInOption" />
    </form>
    <div class="absolute top-0 right-0">
        <img class="h-72" src={backgroundIcon1} alt="Background icon 1" />
    </div>
    <div class="absolute bottom-0 left-0">
        <img class="h-64" src={backgroundIcon2} alt="Background icon 2" />
    </div>
    <div
        class="absolute bottom-1 right-1 font-garamond-premier-pro text-5xl font-semibold text-dark-primary"
    >
        Fulbright
    </div> -->

    <div
        class="bg-background flex flex-col items-center justify-between relative overflow-hidden"
    >
        <div
            class="absolute top-0 left-0 text-action text-left"
            style="font: 900 70px/100% 'Montserrat', sans-serif"
        >
            Fultracker
        </div>

        <img
            class="absolute top-0 right-0 shrink-0 w-[372px] h-[269px]"
            src={backgroundIcon1}
        />

        <div
            class="flex flex-col items-center justify-start shrink-0 w-[1003px] mb-4"
        >
            <div
                class="top-12 text-text text-center relative self-stretch"
                style="font: 900 90px 'Montserrat', sans-serif"
            >
                Login
            </div>

            <form
                class="bg-highlight rounded-[100px] pt-20 pr-10 pb-[50px] pl-10 flex flex-col gap-20 items-center justify-center self-stretch shrink-0"
                style="box-shadow: 4px 4px 4px 0px rgba(0, 0, 0, 0.2);"
                action=`/api/auth/${action}`
                method="post"
                autocomplete="off"
            >
                <div
                    class="flex flex-col gap-[25px] items-center justify-center self-stretch shrink-0 relative"
                >
                    <InputField name="Email" type="email" />
                    <InputField name="Password" type="password" />
                </div>

                <div
                    class="flex flex-row items-center justify-between self-stretch shrink-0 relative"
                >
                    <div
                        class="pt-0 pr-5 pb-0 pl-5 flex flex-row gap-2.5 items-center justify-start shrink-0 w-[469px] relative"
                    >
                        <div
                            class="text-text text-left relative flex-1"
                            style="font: 500 20px 'Montserrat', sans-serif"
                        >
                            Don't have account?
                        </div>

                        <a
                            class="text-action text-left relative flex-1"
                            style="font: 500 20px 'Montserrat', sans-serif; text-decoration: underline;"
                            href=""
                        >
                            Create new!
                        </a>
                    </div>

                    <div
                        class="pt-0 pr-5 pb-0 pl-5 flex flex-row gap-2.5 items-center justify-start shrink-0 w-[423px] relative"
                    >
                        <div
                            class="text-text text-left relative flex-1"
                            style="font: 500 20px 'Montserrat', sans-serif"
                        >
                            Forgot password?
                        </div>
                        
                        <a
                            class="text-action text-left relative flex-1"
                            style="font: 500 20px 'Montserrat', sans-serif; text-decoration: underline;"
                            href=""
                        >
                            Reset password!
                        </a>
                    </div>
                </div>

                <button
                    class="bg-action rounded-[20px] border-solid border-[#445953] border-4 pt-[18px] pr-5 pb-[18px] pl-5 flex flex-row gap-5 items-center justify-start self-stretch shrink-0 relative"
                    type="submit"
                >
                    <div
                        class="flex flex-row items-center justify-between self-stretch flex-1 relative"
                    >
                    </div>

                    <div
                        class="text-highlight text-left relative"
                        style="font: 700 35px 'Montserrat', sans-serif"
                    >
                        Let me INNN!!!
                    </div>

                    <div
                        class="flex flex-row items-center justify-between self-stretch flex-1 relative"
                    >
                    </div>

                    <img
                        class="flex flex-row gap-2.5 items-start justify-start shrink-0 relative overflow-visible"
                        src={arrowIcon}
                    />
                </button>

                <div
                    class="flex flex-col gap-[50px] items-center justify-center self-stretch shrink-0 relative"
                >
                    <div
                        class="bg-text rounded-[5px] pt-0 pr-[432px] pb-0 pl-[432px] flex flex-col gap-2.5 items-center justify-center self-stretch shrink-0 h-[7px] relative"
                    >
                        <div
                            class="bg-highlight pt-0 pr-[15px] pb-0 pl-[15px] flex flex-col gap-2.5 items-center justify-center self-stretch shrink-0 relative"
                        >
                            <div
                                class="text-action text-left relative"
                                style="font: 700 30px 'Montserrat', sans-serif"
                            >
                                or
                            </div>
                        </div>
                    </div>

                    <div
                        class="pt-0 pr-[50px] pb-0 pl-[50px] flex flex-row items-center justify-between self-stretch shrink-0 relative"
                    >
                        <SignOptionBtn id="google" />
                        <SignOptionBtn id="github" />
                    </div>
                </div>
            </form>
        </div>

        <img
            class="absolute bottom-0 left-0 shrink-0 w-[321px] h-[219px]"
            src={backgroundIcon2}
        />

        <img
            class="absolute bottom-0 right-0 shrink-0 w-[201px] h-[57px]"
            src={schoolLogo}
        />
    </div>
</MainLayout>

<!-- <script define:vars={{ action }}>
changeElemIds = {
    "sign-btn": ["Let me INN!!!", "Sign me Upp!!"],
    "switch-title": [
        "Don't have account? Create new!",
        "Already have an account? Sign in!",
    ],
};

for (ele in changeElemIds) {
    document.getElementById(ele).innerHTML =
        changeElemIds[ele][+(action == "register")];
}
</script> -->
