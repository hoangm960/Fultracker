---
import { app } from "@lib/firebase/server";
import { getAuth } from "firebase-admin/auth";
import DashboardLayout from "@layouts/DashboardLayout.astro";

const auth = getAuth(app);

/* Check current session */
const sessionCookie = Astro.cookies.get("session").value;

if (!sessionCookie) {
  return Astro.redirect("/signin");
}
const decodedCookie = await auth.verifySessionCookie(sessionCookie);
const user = await auth.getUser(decodedCookie.uid);

if (!user) {
  return Astro.redirect("/signin");
}
---

<DashboardLayout page="home">
  <div
    class="p-2.5 flex flex-row gap-2.5 items-start justify-start self-stretch flex-1"
  >
    <div
      class="flex flex-col gap-2.5 items-start justify-start self-stretch flex-1"
    >
      <div
        class="bg-highlight rounded-[30px] self-stretch flex-1 relative overflow-hidden"
        style="opacity: 0.699999988079071"
      >
      </div>

      <div
        class="bg-highlight rounded-[30px] self-stretch shrink-0 h-[200px] relative overflow-hidden"
        style="opacity: 0.699999988079071"
      >
      </div>
    </div>

    <div
      class="bg-highlight rounded-[30px] self-stretch shrink-0 w-[700px]"
      style="opacity: 0.699999988079071"
    >
    </div>
  </div>
</DashboardLayout>
